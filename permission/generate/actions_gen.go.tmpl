// Code generated by github.com/cble-platform/cble-backend, DO NOT EDIT.

package actions

import "strings"

type PermissionAction string

const (
  {{- range $target, $actions := . }}
  // {{ $target | Title }}
  {{- range $actions }}
  Action{{- $target | Title -}}{{- . | Title }} PermissionAction = "{{- $target -}}_{{- . -}}"
  {{- end }}
  {{- end }}
	// Returned for any potential errors
	ActionUnknown PermissionAction = "unknown"
)

// String strips the object-specific prefix from
func (p PermissionAction) DisplayString() string {
	if before, after, ok := strings.Cut(string(p), "_"); !ok {
		return before
	} else {
		return after
	}
}

var actionMap = map[string]map[string]PermissionAction{
  {{- range $target, $actions := . }}
  // {{ $target | Title }}
  "{{- $target | ToLower -}}": {
  {{- range $actions }}
    "{{- . | ToLower -}}": Action{{- $target | Title -}}{{- . | Title -}},
  {{- end }}
  },
  {{- end }}
}

// Returns a PermissionAction for a given object and action
func Get(object string, action string) PermissionAction {
	pa, ok := actionMap[strings.ToLower(object)][strings.ToLower(action)]
	if !ok {
		return ActionUnknown
	} else {
		return pa
	}
}

// Values provides list valid values for Enum.
func (PermissionAction) Values() (kinds []string) {
  for _, s := range []PermissionAction{
    {{- range $target, $actions := . }}
    {{- range $actions }}
    Action{{- $target | Title -}}{{- . | Title -}},
    {{- end }}
    {{- end }}
    ActionUnknown,
	} {
    kinds = append(kinds, string(s))
  }
  return
}